#!/bin/bash 

ANATOOL="MLVFSamplePrepTool"
ANATOOL="NukeCCInclusive"

STARTTIME=`date +%Y-%m-%d-%H-%M-%S`
STARTDATE=`date +%Y%m%d`

# general running...
# MEMORY="2500MB"
# LIFETIME="8h"

# for subrun recovery
MEMORY="3000MB"
LIFETIME="12h"

dorun() {
  # First arg is run, second (optional) is the subrun,
  # third (optional) is number of events
  # "Use" the 2nd and 3rd args if the numbers are non-zero
  RUNN=0
  SUBR=0
  NEVT=0
  RUNN=$1
  if [ $# -gt 1 ]; then
    SUBR=$2
  fi
  if [ $# -gt 2 ]; then
    NEVT=$3
  fi
  RUNNSTRING="--run $RUNN"
  if [[ $SUBR > 0 ]]; then
    SUBRSTRING="--subrun $SUBR"
  fi
  if [[ $NEVT > 0 ]]; then
    NEVTSTRING="-n $NEVT"
  fi
  OUTDIR=/pnfs/minerva/persistent/users/perdue/mnv${DATAMCSTRING}${STARTDATE}

  # python -m pdb ./ProcessAna.py --mc \
  time nice $PRODUCTIONSCRIPTSROOT/ana_scripts/ProcessAna.py \
    $DATAMCSTRING \
    $RUNNSTRING $SUBRSTRING $NEVTSTRING \
    --ana_tool $ANATOOL \
    --inv eroica \
    --outdir $OUTDIR \
    --kludge Eroica \
    --memory $MEMORY \
    --lifetime $LIFETIME \
    --no_verify_kludge $INTERACTIVESTRING

cat <<EOF
  time nice $PRODUCTIONSCRIPTSROOT/ana_scripts/ProcessAna.py \
    $DATAMCSTRING \
    $RUNNSTRING $SUBRSTRING $NEVTSTRING \
    --ana_tool $ANATOOL \
    --inv eroica \
    --outdir $OUTDIR \
    --kludge Eroica \
    --memory $MEMORY \
    --lifetime $LIFETIME \
    --no_verify_kludge $INTERACTIVESTRING
EOF
}

doplaylist() {
  # First arg is playlist
  #
  # Note: playlists are never interactive
  PLAYLIST=$1
  PLAYLSTRING="--playlist $PLAYLIST"
  OUTDIR=/pnfs/minerva/persistent/users/perdue/mnv${DATAMCSTRING}${STARTDATE}

  time nice $PRODUCTIONSCRIPTSROOT/ana_scripts/ProcessAna.py \
    $DATAMCSTRING \
    $PLAYLSTRING \
    --ana_tool $ANATOOL \
    --inv eroica \
    --outdir $OUTDIR \
    --kludge Eroica \
    --memory $MEMORY \
    --lifetime $LIFETIME \
    --no_verify_kludge 

cat <<EOF
  time nice $PRODUCTIONSCRIPTSROOT/ana_scripts/ProcessAna.py \
    $DATAMCSTRING \
    $PLAYLSTRING \
    --ana_tool $ANATOOL \
    --inv eroica \
    --outdir $OUTDIR \
    --kludge Eroica \
    --memory $MEMORY \
    --lifetime $LIFETIME \
    --no_verify_kludge 
EOF
}

do_five_full_mc_runs() {
    INTERACTIVESTRING=""
    DATAMCSTRING="--mc"
    dorun 117205  > sublog_${STARTTIME}.txt 2>&1
    dorun 117206 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117207 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117208 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117209 >> sublog_${STARTTIME}.txt 2>&1
}

do_a_full_mc_run() {
    INTERACTIVESTRING=""
    DATAMCSTRING="--mc"
    dorun 117201  > sublog_${STARTTIME}.txt 2>&1
}

do_a_few_mc_subruns() {
    INTERACTIVESTRING=""
    DATAMCSTRING="--mc"
    dorun 117200 1,2,3,4,5,6,7,8,9,10,11,12 > sublog_${STARTTIME}.txt 2>&1
    # dorun 10200 9,10,11,12,13,14,15,16 > sublog_${STARTTIME}.txt 2>&1
}

do_a_small_mc_sample() {
    INTERACTIVESTRING="--interactive"
    DATAMCSTRING="--mc"
    dorun 117200 2 300
}

do_a_few_data_subruns() {
    INTERACTIVESTRING=""
    DATAMCSTRING="--data"
    dorun 6038 31,32,33,34 > sublog_${STARTTIME}.txt 2>&1
}

do_subrun_recovery() {
    INTERACTIVESTRING=""
    # DATAMCSTRING="--data"
    DATAMCSTRING="--mc"

    # not real recovery runs
    # dorun 117200 39,41 > sublog_${STARTTIME}.txt 2>&1
    # dorun 117201 1,2,3 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117200 39,41,233,482,483,484,485,486,540,551,594,650,758,796,941,1019,1022,1056,1062,1149,1215,1253,1301,1348,1413,1414,1415,1416,1417,1548,1585,1686,1727,1817,1855,1856,1904,1956,1957,1958,1959,1960,1990,2045,2059,2061,2076,2098,2163,2199,2303,2311,2331,2336,2339,2424,2441,2471,2472,2473,2474,2475,2491,2495,2515,2518,2543,2548,2556,2626,2700,2734,2750,2753,2756,2763,2770,2771,2772,2775,2779,2782,2784,2786,2790,2803,2804,2805,2807,2809,2812,2829,2848,2849,2851,2857,2888,2894,2895,2901,2903,2906,2907,2910,2913,2923,2924,2925,2928,2931,2935,2938,2940,2941,2942,2949,2951,2953,2954,2955,2956,2957,2958,2960,2963,2964,2965,2969,2998,3012,3013,3015,3016,3019,3024,3028,3029,3034,3036,3038,3039,3040,3041,3042,3043,3046,3047,3048,3049,3050,3052,3056,3061,3063,3064,3069,3070,3073,3074,3075,3077,3078,3087,3089,3090,3092,3100,3101,3114,3116,3129,3134,3139,3140,3141,3142,3149,3152,3153,3155,3157,3158,3161,3165,3167,3171,3175,3186,3188,3190,3193,3198,3199,3200,3203,3206,3207,3212,3214,3216,3217,3221,3226,3229,3237,3244,3248,3250,3253,3256,3260,3267,3278,3282,3283,3286,3296,3300,3304,3318,3323,3328,3330,3331,3337,3341,3347,3349,3354,3363,3365,3369,3372,3382,3387,3388,3389,3392,3393,3396,3397,3404,3405,3406,3409,3411,3419,3420,3434,3440,3441,3442,3453,3454,3456,3458,3459,3462,3469,3471,3482,3485,3486,3487,3488,3489,3499,3500,3513,3516,3517,3521,3526,3527,3528,3531,3532,3533,3534,3535,3539,3544,3547,3554,3559,3560,3562,3563,3570,3577,3579,3581,3582,3587,3590,3591,3592,3594,3595,3596,3597,3598,3601,3606,3607,3609,3610,3612,3613,3614,3616,3617,3624,3628,3629,3630,3632,3633,3635,3636,3639,3640,3641,3642,3643,3646,3647,3655,3657,3658,3660,3664,3667,3668,3672,3676,3677,3679,3681,3686,3689,3698,3704,3705,3709,3717,3734,3740,3742,3752,3755,3757,3805,3823,3831,3832,3842,3845,3849,3863,3872,3878,3880,3881,3885,3894,3895,3896,3897,3898,3901,3908,3913,3915,3921,3931,3933,3935,3939,3943,3956,3962,3965,3971,3976,3978,3984,3989,3990,3992,3994,3996,4000,4004,4008,4014,4026,4032,4037,4041,4044,4047,4050,4060,4061,4063,4065,4067,4071,4081,4086,4088,4091,4094,4101,4102,4103,4106,4111,4115,4117,4120,4123,4127,4129,4131,4136,4140,4143,4145,4150,4156,4160,4164,4166,4169,4173,4174,4178,4179,4180,4181,4187,4190,4199,4202,4206,4208,4210,4213,4215,4218,4219,4222,4231,4233,4236,4237,4238,4239,4240,4241,4243,4244,4246,4247,4250,4252,4254,4255,4258,4259,4261,4262,4264,4265,4267,4271,4273,4279,4280,4282,4283,4284,4295,4296,4299,4300,4304,4306,4309,4310,4311,4313,4314,4315,4316,4320,4328,4332,4333,4334,4335,4339,4340,4341,4342,4343,4344,4347,4350,4354,4355,4357,4358,4360,4362,4363,4364,4365,4367,4368,4369,4373,4378,4379,4380,4381,4382,4383,4384,4385,4387,4388,4389,4391,4392,4395,4397,4398,4403,4406,4409,4410,4411,4412,4420,4421,4422,4435,4436,4443,4444,4447,4448,4454,4455,4457,4458,4470,4471,4488,4489,4490,4491,4493,4494,4495,4503,4504,4513,4514,4518,4519,4522,4529,4530,4531,4532,4533,4541,4542,4543,4546,4548,4550,4551,4557,4559,4562,4563,4573,4574,4585,4586,4588,4591,4593,4594,4596,4597,4598,4599,4601,4609,4610,4613,4614,4618,4619,4627,4628,4629,4630,4632,4640,4641,4646,4647,4649,4650,4659,4661,4665,4666,4667,4668,4674,4678,4685,4687,4696,4705,4706,4709,4710,4712,4714,4716,4717,4722,4723,4734,4735,4744,4745,4751,4752,4759,4762,4763,4768,4769,4772,4775,4778,4779,4782,4791,4794,4798,4810,4812,4814,4815,4832,4834,4840,4843,4844,4854,4855,4860,4861,4875,4876,4881,4884,4885,4887,4888,4901,4902,4904,4916,4918,4919,4928,4944,4947,4951,4952,4955,4960,4972,4981,4982,4993,4995,4996,4997,5000 > sublog_${STARTTIME}.txt 2>&1
    dorun 117201 1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,58,158,167,178,179,180,181,182,230,261,277,293,347,366,624,640,673,677,765,832,914,1051,1052,1053,1054,1055,1224,1227,1228,1229,1230,1231,1232,1345,1444,1445,1446,1447,1448,1541,1595,1602,1604,1616,1645,1690,1705,1727,1728,1729,1730,1731,1787,1947,2026,2027,2054,2066,2097,2099,2163,2192,2250,2310,2314,2315,2316,2317,2318,2338,2348,2354,2364,2394,2418,2470,2499,2504,2515,2519,2541,2579,2599,2632,2654,2656,2691,2720,2722,2733,2749,2775,2838,2841,2859,2869,2898,2902,2904,2909,2952,2972,2991,2993,2995,3007,3011,3057,3137,3172,3175,3196,3198,3224,3226,3251,3280,3296,3327,3358,3363,3423,3428,3450,3465,3478,3501,3520,3550,3556,3560,3609,3631,3669,3688,3702,3707,3717,3742,3743,3768,3769,3819,3860,3896,3912,3914,3970,3980,4009,4010,4011,4012,4013,4072,4118,4184,4202,4208,4227,4265,4284,4301,4318,4322,4345,4363,4378,4388,4460,4472,4546,4547,4548,4549,4550,4557,4558,4572,4607,4623,4654,4680,4691,4695,4713,4723,4845,4911,4946,4975 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117202 37,112,137,204,205,206,207,208,226,228,247,319,663,670,730,731,732,733,734,743,804,919,928,1008,1025,1057,1058,1104,1105,1135,1165,1305,1312,1319,1320,1379,1422,1423,1424,1425,1426,1433,1520,1527,1554,1556,1566,1643,1706,1940,2035,2097,2098,2099,2100,2101,2132,2180,2210,2382,2391,2392,2393,2394,2395,2539,2551,2596,2599,2639,2644,2687,2721,2781,2789,2965,3059,3177,3186,3204,3211,3272,3321,3359,3374,3397,3417,3513,3610,3700,3756,3772,3773,3774,3775,3776,3903,3996,4052,4360,4413,4418,4434,4502,4562,4604,4902,4912,4951,4960,4961,4962,4963,4964,5000 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117203 37,61,68,82,249,259,269,275,282,307,334,348,350,351,352,353,354,569,628,925,953,1024,1025,1026,1027,1028,1060,1127,1230,1385,1425,1649,1666,2059,2295,2308,2332,2335,2338,2351,2366,2376,2412,2419,2505,2553,2599,2622,2704,2726,2897,2977,3036,3125,3164,3218,3219,3220,3221,3222,3350,3422,3444,3552,3841,3848,3849,3850,3851,3852,3864,3924,4003,4025,4034,4088,4284,4285,4286,4287,4288,4390,4423,4483,4634,4784,4786,4837 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117204 13,18,27,31,39,51,52,55,72,75,80,81,87,91,97,111,112,114,117,121,132,138,151,155,156,165,166,167,174,178,179,188,203,217,219,249,264,268,269,277,282,288,299,300,308,315,323,329,349,354,355,391,393,398,399,409,426,427,431,461,481,520,524,528,533,537,548,570,574,577,623,628,639,642,656,685,686,692,703,710,711,714,721,735,736,738,747,765,773,777,795,796,810,811,812,813,814,815,817,818,821,835,849,860,893,901,908,914,930,934,951,960,961,968,984,989,990,999,1037,1054,1063,1073,1090,1149,1185,1202,1210,1214,1221,1289,1292,1325,1330,1331,1332,1333,1334,1335,1341,1345,1363,1367,1372,1422,1424,1429,1459,1465,1492,1493,1495,1499,1502,1503,1527,1613,1615,1622,1632,1662,1682,1713,1717,1735,1747,1751,1778,1790,1799,1831,1836,1837,1858,1870,1874,1884,1893,1908,1909,1910,1924,1947,1971,1975,1978,2009,2015,2026,2035,2044,2066,2078,2094,2095,2106,2113,2155,2157,2159,2173,2283,2297,2330,2382,2415,2495,2559,2657,2681,2726,2735,2767,2796,2822,2862,2871,2896,2909,2911,2944,2996,3004,3021,3039,3040,3061,3078,3095,3113,3162,3209,3330,3335,3495,3612,3757,3823,3890,3898,3925,3933,3936,4008,4057,4075,4127,4140,4180,4196,4242,4342,4415,4416,4455,4502,4503,4504,4505,4506,4507,4521,4531,4543,4555,4560,4595,4600,4670,4710,4734,4740,4751,4800,4819,4843,4854,4910,5000 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117205 1,2,3,4,5,9,96,153,335,355,356,357,358,359,500,518,535,581,738,765,856,857,858,859,860,898,1025,1156,1171,1251,1285,1296,1356,1407,1411,1414,1460,1484,1570,1597,1669,1782,1783,1784,1785,1786,1794,1850,1918,1921,1959,2051,2052,2064,2114,2119,2124,2132,2139,2140,2142,2145,2162,2163,2184,2226,2235,2247,2256,2308,2311,2317,2339,2368,2380,2411,2425,2440,2453,2485,2525,2533,2561,2663,2693,2721,2722,2723,2724,2725,2761,2782,2807,2816,2833,2835,2841,2852,2854,2855,2856,2857,2858,2901,2906,2928,2954,2992,2994,3024,3033,3038,3045,3052,3065,3066,3070,3081,3096,3097,3117,3135,3138,3190,3200,3201,3240,3261,3291,3296,3299,3303,3312,3325,3326,3336,3338,3364,3372,3380,3394,3403,3405,3406,3408,3418,3424,3436,3445,3451,3455,3457,3464,3484,3486,3552,3597,3629,3707,3708,3754,3773,3775,3787,3816,3821,3836,3843,3855,3865,3897,3929,3935,3941,3954,4070,4107,4128,4134,4136,4137,4138,4146,4155,4173,4182,4184,4185,4208,4209,4218,4219,4265,4286,4289,4342,4347,4372,4385,4399,4403,4407,4431,4446,4469,4512,4549,4556,4585,4625,4627,4641,4666,4746,4764,4793,4794,4804,4807,4910,4926,4927,4928,4929,4930 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117206 2,11,67,88,94,120,153,175,187,193,197,234,273,274,311,351,353,369,375,409,449,485,509,599,645,731,757,771,772,773,774,775,789,803,813,842,868,882,1077,1078,1079,1080,1081,1085,1088,1090,1190,1212,1229,1256,1359,1360,1361,1362,1363,1399,1418,1458,1459,1556,1570,1591,1665,1680,1694,1704,1731,1794,1850,1890,1908,1923,1966,2029,2121,2134,2144,2168,2175,2179,2188,2189,2197,2203,2227,2258,2259,2289,2297,2318,2362,2363,2374,2391,2399,2410,2440,2466,2469,2529,2550,2602,2606,2624,2633,2634,2635,2636,2637,2668,2673,2676,2684,2711,2712,2714,2717,2736,2749,2754,2774,2780,2782,2800,2804,2827,2833,2834,2837,2839,2849,2850,2856,2858,2863,2886,2934,2967,2972,2978,2999,3000,3006,3024,3034,3039,3050,3063,3087,3088,3089,3090,3091,3095,3107,3127,3129,3138,3150,3166,3178,3198,3235,3287,3291,3297,3298,3396,3408,3413,3446,3450,3451,3452,3462,3466,3488,3490,3498,3519,3521,3541,3553,3566,3571,3624,3644,3658,3673,3680,3682,3699,3715,3737,3751,3758,3780,3791,3805,3814,3848,3852,3853,3858,3869,3872,3913,3930,3946,3949,3962,3978,3991,4027,4035,4058,4059,4078,4082,4086,4100,4138,4147,4188,4200,4202,4203,4207,4208,4214,4234,4249,4255,4263,4283,4309,4314,4322,4342,4345,4366,4379,4384,4403,4405,4414,4420,4424,4441,4448,4459,4467,4507,4520,4566,4586,4621,4658,4697,4721,4742,4775,4787,4788,4797,4798,4809,4838,4843,4846,4882,4883,4902,4928,4957,4976,5000 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117207 5,14,87,171,217,252,310,313,430,477,492,503,522,580,607,682,686,716,743,767,824,828,860,894,920,921,922,923,924,925,1011,1090,1116,1131,1163,1164,1190,1238,1271,1289,1310,1345,1374,1431,1447,1452,1463,1468,1474,1480,1489,1498,1499,1508,1511,1515,1528,1539,1545,1550,1552,1558,1562,1575,1578,1588,1591,1593,1594,1595,1596,1597,1598,1604,1608,1615,1624,1630,1634,1639,1644,1645,1646,1648,1655,1657,1658,1660,1672,1675,1676,1680,1681,1692,1701,1702,1703,1704,1708,1711,1713,1717,1721,1722,1723,1730,1745,1747,1750,1751,1752,1759,1760,1761,1767,1768,1772,1776,1777,1781,1782,1794,1795,1796,1799,1804,1809,1817,1819,1820,1822,1826,1829,1837,1839,1844,1845,1848,1857,1858,1868,1869,1870,1875,1877,1880,1881,1884,1885,1887,1894,1895,1896,1897,1900,1902,1904,1905,1908,1912,1913,1915,1919,1922,1926,1935,1936,1940,1942,1944,1953,1958,1960,1964,1968,1970,1972,1973,1977,1979,1986,1992,1993,1994,1999,2001,2009,2012,2013,2019,2041,2044,2046,2049,2051,2065,2073,2075,2077,2080,2081,2082,2086,2094,2095,2098,2099,2101,2103,2108,2113,2114,2117,2118,2119,2122,2128,2133,2135,2141,2144,2146,2147,2161,2162,2166,2168,2169,2171,2175,2188,2189,2190,2191,2198,2204,2207,2210,2215,2216,2217,2224,2225,2227,2232,2242,2257,2258,2261,2264,2271,2275,2276,2278,2279,2280,2281,2282,2283,2286,2287,2291,2292,2295,2301,2304,2310,2313,2316,2318,2325,2327,2334,2341,2345,2347,2351,2353,2355,2357,2364,2366,2368,2376,2377,2379,2380,2382,2385,2386,2388,2390,2392,2393,2398,2404,2405,2406,2413,2424,2427,2428,2431,2435,2436,2438,2442,2447,2448,2449,2451,2456,2462,2464,2467,2481,2490,2492,2503,2511,2519,2520,2523,2525,2527,2529,2531,2532,2539,2546,2547,2555,2556,2563,2565,2566,2574,2586,2588,2598,2602,2603,2610,2611,2619,2622,2625,2633,2634,2637,2641,2647,2651,2652,2659,2667,2671,2678,2679,2681,2684,2688,2690,2691,2692,2694,2697,2705,2707,2711,2713,2714,2717,2719,2723,2733,2736,2744,2745,2749,2750,2762,2764,2765,2770,2772,2800,2801,2804,2805,2806,2807,2808,2831,2844,2847,2849,2850,2851,2861,2868,2869,2880,2883,2909,2912,2932,2936,2941,2944,2945,2948,2956,2958,2962,2969,2977,2981,2988,2998,3001,3004,3017,3021,3048,3050,3052,3057,3072,3077,3087,3090,3092,3113,3114,3132,3137,3156,3177,3190,3199,3207,3215,3284,3293,3295,3311,3322,3343,3345,3352,3388,3423,3451,3454,3457,3477,3540,3543,3545,3572,3642,3654,3710,3738,3758,3923,3954,3970,3974,4070,4133,4161,4281,4283,4286,4617,4618,4619,4620,4621,4652,4793,4876,4907,4926,4927,4928,4929,4930 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117208 29,31,55,58,110,119,161,250,386,541,671,672,673,674,675,888,942,977,999,1309,1691,2019,2267,2471,2485,2555,2600,2633,2634,2635,2636,2637,2657,2673,2883,2921,2952,3133,3134,3135,3136,3137,3268,3271,3279,3282,3311,3312,3391,3393,3435,3466,3533,3534,3535,3536,3537,3623,3631,3657,3692,3697,3701,3704,3709,3767,3772,3788,3800,3808,3811,3848,3859,3865,3867,3876,3885,3887,3889,3893,3896,3909,3919,3936,3947,3962,3964,3970,3977,3984,3985,3997,4001,4003,4012,4016,4023,4024,4033,4036,4039,4041,4059,4074,4076,4080,4081,4085,4087,4090,4095,4096,4097,4101,4106,4112,4120,4122,4133,4140,4142,4151,4153,4155,4165,4169,4172,4187,4188,4190,4207,4214,4240,4245,4252,4255,4264,4279,4292,4304,4309,4312,4315,4332,4341,4343,4345,4351,4357,4362,4363,4364,4375,4385,4390,4391,4393,4403,4406,4418,4419,4424,4430,4438,4448,4464,4477,4479,4480,4481,4483,4484,4507,4526,4528,4546,4548,4552,4556,4563,4564,4565,4568,4569,4581,4583,4585,4587,4592,4594,4599,4602,4612,4614,4617,4618,4620,4621,4627,4633,4635,4637,4649,4653,4661,4675,4681,4686,4692,4693,4700,4704,4706,4718,4719,4726,4747,4753,4755,4759,4777,4779,4792,4800,4808,4817,4818,4821,4828,4835,4836,4837,4843,4855,4858,4861,4862,4863,4864,4865,4871,4872,4873,4877,4878,4881,4882,4886,4888,4895,4896,4898,4901,4904,4917,4922,4928,4937,4953,4954,4962,4975,4989,4991,4998 >> sublog_${STARTTIME}.txt 2>&1
    dorun 117209 12,22,159,175,193,211,332,333,448,588,605,636,720,850,909,935,967,1235,1298,1322,1326,1363,1372,1391,1530,1594,1634,1644,1669,1681,1682,1708,1749,1767,1796,1819,1832,1860,1878,1890,1942,1973,1986,2007,2041,2047,2063,2064,2069,2079,2085,2095,2099,2104,2108,2111,2113,2125,2149,2153,2155,2177,2215,2221,2245,2251,2260,2269,2281,2296,2322,2374,2376,2383,2422,2429,2440,2444,2445,2464,2515,2519,2526,2527,2528,2529,2530,2534,2557,2569,2582,2595,2611,2622,2638,2658,2665,2671,2684,2687,2703,2712,2719,2729,2734,2744,2747,2749,2751,2799,2804,2805,2810,2814,2829,2831,2836,2837,2848,2859,2872,2877,2881,2893,2897,2899,2977,3031,3279,3356,3368,3389,3497,3546,3549,3633,3664,3719,3735,3772,3785,4107,4108,4219,4253,4254,4255,4256,4257,4279,4356,4371,4499,4607,4608,4609,4610,4611,4615,4801,4912,4942,4944,4945,4950,4978,4984 >> sublog_${STARTTIME}.txt 2>&1
}

do_a_playlist() {
    INTERACTIVESTRING=""
    # DATAMCSTRING="--data"
    DATAMCSTRING="--mc"
    PLAYLIST="minervame1A"
    doplaylist $PLAYLIST > sublog_${STARTTIME}.txt 2>&1
}

INTERACTIVESTRING=""
INTERACTIVESTRING="--interactive"

DATAMCSTRING="--mc"
DATAMCSTRING="--data"

# do_a_few_mc_subruns

# do_a_small_mc_sample

# do_a_full_mc_run

# do_five_full_mc_runs

do_subrun_recovery

# do_a_playlist

# do_a_few_data_subruns

# MinervaMC run info...
# 117200 -> 117209(?) is minervame1A
# 112200 -> 112205(?) is minervame1B ? - looks plausible
# Run Range for playlist minerva1: [ 10200 - 10250 )
#
#  mc:
# perdue@minervagpvm04> cd $PRODUCTIONSCRIPTSROOT
# perdue@minervagpvm04> find . -name MCStandardRun.py
# ./py_classes/MCStandardRun.py
# perdue@minervagpvm04> python py_classes/MCStandardRun.py --playlist minerva13C
#
# and:
# https://cdcvs.fnal.gov/redmine/projects/minerva-sw/wiki/Monte_Carlo_Production_Run_Numbers

# data:
# http://cdcvs.fnal.gov/cgi-bin/public-cvs/cvsweb-public.cgi/AnalysisFramework/Tools/ProductionScripts/data_scripts/playlists/minerva/?cvsroot=mnvsoft
#
# mc:
# use `python MCStandardRun.py --help`
# e.g. python py_classes/MCStandardRun.py --playlist=minerva1


# doplaylist minervame1A > sublog_${STARTTIME}.txt 2>&1

# dorun 6207 1,2,3,4,5 > sublog_${STARTTIME}.txt 2>&1

# dorun 117200  > sublog_${STARTTIME}.txt 2>&1
# dorun 117200 1


# dorun 1  > sublog_${STARTTIME}.txt 2>&1
# dorun 2 >> sublog_${STARTTIME}.txt 2>&1
# dorun 3 >> sublog_${STARTTIME}.txt 2>&1

# dorun 1 2 

# dorun 1 1 200
